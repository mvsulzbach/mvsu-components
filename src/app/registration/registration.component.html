@if (participation$ | async; as participation) {
    <div id="participation-{{divid}}>" class="participation_buttons">
        @if (participation == yes()) {
            Sie nehmen teil!
        } @else {
            <button class="participation_button tribe-common-c-btn" type="button" (click)="participate()">Teilnehmen</button>
        }
    </div>
    <div id="cancel-{{divid}}" class="cancel_buttons">
        @if (participation == no()) {
            Sie haben abgesagt!
        } @else {
            <button class="participation_button tribe-common-c-btn" type="button" (click)="showPopup = true;">Absagen</button>
        }
    </div>
} @else {
    LÃ¤dt...
}

@if (showPopup) {
    <div id="popup-{{divid}}" class="overlay">
        <div id="event-name-{{divid}}"><b>{{title}}</b></div><div>{{schedule_details}}</div><div>Grund</div>
        <textarea class="reason_area" id="reason-{{divid}}" cols="50" rows="3" [(ngModel)]="reason"></textarea>
        <div class="note" id="note-{{divid}}"></div>
        <button class="tribe-common-c-btn cancel-button" (click)="cancel()">Absagen</button>
        <button class="tribe-common-c-btn close-button" (click)="showPopup = false;">X</button>
    </div>
}